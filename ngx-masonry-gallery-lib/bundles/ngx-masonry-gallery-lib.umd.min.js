!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("masonry-layout"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-masonry-gallery-lib",["exports","@angular/core","masonry-layout","@angular/common"],e):e(t["ngx-masonry-gallery-lib"]={},t.ng.core,null,t.ng.common)}(this,function(t,e,n,i){"use strict";var r=new(function(){function t(){}return t.prototype.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},t}()),o=function(){function t(t){this.renderer=t,this.images=[],this.columnWidth=330,this.gutter=5,this.imageClasses=[],this.clickImage=new e.EventEmitter,this.galleryGuid=r.newGuid(),this.mansonryItemSelectorClass="grid-item",this.hiddenClass="hidden",this.viewReady=!1}return t.prototype.ngOnChanges=function(){this.viewReady&&this.initMasonry()},t.prototype.ngOnDestroy=function(){this.msnry&&this.msnry.destroy()},t.prototype.handleClick=function(t){this.clickImage.next(t)},t.prototype.ngAfterViewInit=function(){this.viewReady=!0,this.initMasonry()},t.prototype.initMasonry=function(){var i=this;if(this.grid=document.getElementById(this.galleryGuid),!this.grid)throw Error("Could not init mansory due to non existing elem with id '"+this.galleryGuid+"'");this.msnry=new n(this.grid,{itemSelector:"."+this.mansonryItemSelectorClass,columnWidth:this.columnWidth,gutter:this.gutter});var r=this.getImageClass();this.images.forEach(function(t){var e=i.getImageId(),n=i.renderer.createElement("img");n.setAttribute("id",e),n.setAttribute("alt",t.alt?t.alt:"no description"),n.setAttribute("src",t.imageUrl),n.setAttribute("style","max-width: "+i.columnWidth+"px; margin-bottom: "+i.gutter+"px"),n.className=r,n.addEventListener("load",function(){i.handleImageLoad(e)}),n.addEventListener("click",function(){i.handleClick(t)}),i.grid.appendChild(n)})},t.prototype.getImageClass=function(){var t=this.hiddenClass+" "+this.mansonryItemSelectorClass;this.imageClasses&&0<this.imageClasses.length&&(t+=" "+this.imageClasses.join(" "));return t},t.prototype.getImageId=function(){return this.galleryGuid+"_"+r.newGuid()},t.prototype.handleImageLoad=function(t){var e=document.getElementById(t);e&&(e.classList.remove(this.hiddenClass),this.msnry.appended(e))},t.decorators=[{type:e.Component,args:[{selector:"ngx-masonry-gallery",template:'<div [id]="galleryGuid"></div>',styles:[".hidden { display: none; }"]}]}],t.ctorParameters=function(){return[{type:e.Renderer2}]},t.propDecorators={images:[{type:e.Input}],columnWidth:[{type:e.Input}],gutter:[{type:e.Input}],imageClasses:[{type:e.Input}],clickImage:[{type:e.Output}]},t}(),s=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule],declarations:[o],exports:[o]}]}],t}(),a=function(t){Object.assign(this,t)};t.MasonryGalleryModule=s,t.MasonryGalleryImage=a,t.MasonryGalleryComponent=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-masonry-gallery-lib.umd.min.js.map